13:13:01] INFO: Database connected successfully
[13:13:01] INFO: Server started successfully
    port: 5000
    host: "0.0.0.0"
    env: "development"
    aiEnabled: true
[13:13:01] INFO: HTTP Request
    method: "GET"
    url: "/"
    ip: "172.31.81.194"
    userAgent: "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Replit/1.0.14 Chrome/124.0.6367.119 Electron/30.0.3 Safari/537.36"
[13:13:07] INFO: HTTP Request
    method: "POST"
    url: "/api/ai/explain-routing"
    ip: "127.0.0.1"
    userAgent: "curl/8.14.1"
[13:13:07] DEBUG: Database query
    query: "SELECT `main`.`rules`.`id`, `main`.`rules`.`priority`, `main`.`rules`.`mcc`, `main`.`rules`.`merchant`, `main`.`rules`.`geofence`, `main`.`rules`.`envelopeId`, `main`.`rules`.`enabled`, `main`.`rules`.`userId`, `main`.`rules`.`createdAt`, `main`.`rules`.`updatedAt` FROM `main`.`rules` WHERE (`main`.`rules`.`userId` = ? AND `main`.`rules`.`enabled` = ?) ORDER BY `main`.`rules`.`priority` ASC LIMIT ? OFFSET ?"
    params: "[1,true,-1,0]"
    duration: 3
[13:13:07] DEBUG: Database query
    query: "SELECT `main`.`envelopes`.`id`, `main`.`envelopes`.`name`, `main`.`envelopes`.`icon`, `main`.`envelopes`.`color`, `main`.`envelopes`.`balanceCents`, `main`.`envelopes`.`spentThisMonth`, `main`.`envelopes`.`order`, `main`.`envelopes`.`isActive`, `main`.`envelopes`.`userId`, `main`.`envelopes`.`createdAt`, `main`.`envelopes`.`updatedAt` FROM `main`.`envelopes` WHERE `main`.`envelopes`.`id` IN (?,?) LIMIT ? OFFSET ?"
    params: "[1,2,-1,0]"
    duration: 0
[13:13:07] DEBUG: Database query
    query: "SELECT `main`.`rules`.`id`, `main`.`rules`.`priority`, `main`.`rules`.`mcc`, `main`.`rules`.`merchant`, `main`.`rules`.`geofence`, `main`.`rules`.`envelopeId`, `main`.`rules`.`enabled`, `main`.`rules`.`userId`, `main`.`rules`.`createdAt`, `main`.`rules`.`updatedAt` FROM `main`.`rules` WHERE (`main`.`rules`.`userId` = ? AND `main`.`rules`.`enabled` = ?) ORDER BY `main`.`rules`.`priority` ASC LIMIT ? OFFSET ?"
    params: "[1,true,-1,0]"
    duration: 0
[13:13:07] DEBUG: Database query
    query: "SELECT `main`.`envelopes`.`id`, `main`.`envelopes`.`name` FROM `main`.`envelopes` WHERE `main`.`envelopes`.`id` IN (?,?) LIMIT ? OFFSET ?"
    params: "[1,2,-1,0]"
    duration: 0
[13:13:08] ERROR: OpenAI API error
    err: {
      "type": "PermissionDeniedError",
      "message": "403 Project `proj_0oB7cBSGNAFJaUlNQVw9LZro` does not have access to model `gpt-4o-mini`",
      "stack":
          Error: 403 Project `proj_0oB7cBSGNAFJaUlNQVw9LZro` does not have access to model `gpt-4o-mini`
              at Function.generate (/home/runner/workspace/node_modules/openai/src/error.ts:80:14)
              at OpenAI.makeStatusError (/home/runner/workspace/node_modules/openai/src/core.ts:462:21)
              at OpenAI.makeRequest (/home/runner/workspace/node_modules/openai/src/core.ts:526:24)
              at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
              at async createChatCompletion (/home/runner/workspace/src/lib/openai.ts:17:22)
              at async <anonymous> (/home/runner/workspace/src/routes/ai.ts:106:25)
      "status": 403,
      "headers": {
        "alt-svc": "h3=\":443\"; ma=86400",
        "cf-cache-status": "DYNAMIC",
        "cf-ray": "96e03a6e2e48ade3-ATL",
        "connection": "keep-alive",
        "content-encoding": "gzip",
        "content-type": "application/json; charset=utf-8",
        "date": "Tue, 12 Aug 2025 13:13:08 GMT",
        "server": "cloudflare",
        "set-cookie": "__cf_bm=9TaxTgYjP7dStNc1CUPj4oTYgQpvIPt1GG02_Y461Sc-1755004388-1.0.1.1-KIeSJz4AhXBmLOyINeaE.jxk5WValaFgTJ.rwampGdVIEI1iXNe3tlTWeR3NAigooTbns8u0zQcTLciWKWzVUfL1ERkcB1vAZ0a8zaCF.1c; path=/; expires=Tue, 12-Aug-25 13:43:08 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=LIePPXxt8Yd2nukLdzgoX7IEOT0BwjItRiIOeyCT.3E-1755004388291-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None",
        "strict-transport-security": "max-age=31536000; includeSubDomains; preload",
        "transfer-encoding": "chunked",
        "vary": "Origin",
        "x-content-type-options": "nosniff",
        "x-envoy-upstream-service-time": "204",
        "x-request-id": "req_13d8e740cf4545ca823b73f34232d9a4"
      },
      "request_id": "req_13d8e740cf4545ca823b73f34232d9a4",
      "error": {
        "type": "Object",
        "message": "Project `proj_0oB7cBSGNAFJaUlNQVw9LZro` does not have access to model `gpt-4o-mini`",
        "stack":
            
        "param": null,
        "code": "model_not_found"
      },
      "code": "model_not_found",
      "param": null
    }
[13:13:08] ERROR: Error explaining routing
    err: {
      "type": "Error",
      "message": "AI service unavailable",
      "stack":
          Error: AI service unavailable
              at createChatCompletion (/home/runner/workspace/src/lib/openai.ts:27:11)
              at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
              at async <anonymous> (/home/runner/workspace/src/routes/ai.ts:106:25)